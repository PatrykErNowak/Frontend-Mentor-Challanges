"use strict";dayjs().format(),dayjs.extend(window.dayjs_plugin_customParseFormat),dayjs.extend(window.dayjs_plugin_duration);const form=document.querySelector(".age-calc"),inputDay=document.querySelector("#form-day"),inputMonth=document.querySelector("#form-month"),inputYear=document.querySelector("#form-year"),btn=document.querySelector(".age-calc__btn"),outputYears=document.querySelector("#output-years"),outputMonths=document.querySelector("#output-months"),outputDays=document.querySelector("#output-days"),clearErrorMsgs=function(){const inputs=form.querySelectorAll("input");form.classList.remove("invalid"),form.removeAttribute("aria-invalid"),inputs.forEach((el=>{const container=el.closest(".age-calc__input-box");el.removeAttribute("aria-invalid"),el.removeAttribute("aria-describedby"),container.classList.remove("invalid"),container.querySelector(".error-desc")?.remove()}))},renderErrorMsg=function(element,msg){let addInvalidClass=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const inputBox=element.closest(".age-calc__input-box"),p=document.createElement("p");p.classList.add("error-desc"),p.textContent=msg,p.setAttribute("id",`error-${element.getAttribute("id")}`),element.setAttribute("aria-invalid","true"),element.setAttribute("aria-describedby",`error-${element.getAttribute("id")}`),inputBox.append(p),addInvalidClass&&inputBox.classList.add("invalid")},checkInputs=function(){const inputs=form.querySelectorAll("input");let isValid=!0;return inputs.forEach((el=>{el.value.length<1&&(renderErrorMsg(el,"This field is required"),isValid=!1)})),isValid},isPastDate=function(date){return new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-date>0},validateDate=function(day,month,year){const dayFormatted=day.padStart(2,"0"),monthFormatted=month.padStart(2,"0"),yearFormatted=year.padStart(4,"0"),date=new Date(`${monthFormatted}/${dayFormatted}/${yearFormatted}`),isValid=dayjs(`${yearFormatted}-${monthFormatted}-${dayFormatted}`,"YYYY-MM-DD",!0).isValid();return isValid&&!isPastDate(date)?(form.classList.add("invalid"),renderErrorMsg(inputDay,"Must be in the past",!1),!1):!!isValid||((+month<1||+month>12)&&renderErrorMsg(inputMonth,"Must be a valid month"),(+day<1||+day>31)&&renderErrorMsg(inputDay,"Must be a valid day"),+month>=1&&+month<=12&&+day>=1&&+day<=31&&(form.classList.add("invalid"),renderErrorMsg(inputDay,"Must be a valid date",!1)),!1)},calcAge=function(day,month,year){const now=dayjs(),birthday=dayjs(new Date(`${month}/${day}/${year}`));return dayjs.duration(now.diff(birthday)).$d},animateNumbers=function(element,finalNumber,animationSpeed){return new Promise((resolve=>{let i=0;const anime=setInterval((()=>{element.textContent=i,i>=finalNumber&&(clearInterval(anime),resolve()),i++}),animationSpeed)}))},displayAge=async function(_ref){let{years:years,months:months,days:days}=_ref;outputYears.textContent="--",outputMonths.textContent="--",outputDays.textContent="--",await animateNumbers(outputYears,years,30),await animateNumbers(outputMonths,months,60),await animateNumbers(outputDays,days,40)};btn.addEventListener("click",(e=>{e.preventDefault();const day=inputDay.value,month=inputMonth.value,year=inputYear.value;clearErrorMsgs();if(!(checkInputs()&&validateDate(day,month,year)))return;const age=calcAge(day,month,year);displayAge(age)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsbC5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsiZGF5anMiLCJmb3JtYXQiLCJleHRlbmQiLCJ3aW5kb3ciLCJkYXlqc19wbHVnaW5fY3VzdG9tUGFyc2VGb3JtYXQiLCJkYXlqc19wbHVnaW5fZHVyYXRpb24iLCJmb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5wdXREYXkiLCJpbnB1dE1vbnRoIiwiaW5wdXRZZWFyIiwiYnRuIiwib3V0cHV0WWVhcnMiLCJvdXRwdXRNb250aHMiLCJvdXRwdXREYXlzIiwiY2xlYXJFcnJvck1zZ3MiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiZm9yRWFjaCIsImVsIiwiY29udGFpbmVyIiwiY2xvc2VzdCIsInJlbmRlckVycm9yTXNnIiwiZWxlbWVudCIsIm1zZyIsImFkZEludmFsaWRDbGFzcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImlucHV0Qm94IiwicCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImFwcGVuZCIsImNoZWNrSW5wdXRzIiwiaXNWYWxpZCIsInZhbHVlIiwiaXNQYXN0RGF0ZSIsImRhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJ2YWxpZGF0ZURhdGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJkYXlGb3JtYXR0ZWQiLCJwYWRTdGFydCIsIm1vbnRoRm9ybWF0dGVkIiwieWVhckZvcm1hdHRlZCIsImNhbGNBZ2UiLCJub3ciLCJiaXJ0aGRheSIsImR1cmF0aW9uIiwiZGlmZiIsIiRkIiwiYW5pbWF0ZU51bWJlcnMiLCJmaW5hbE51bWJlciIsImFuaW1hdGlvblNwZWVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpIiwiYW5pbWUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkaXNwbGF5QWdlIiwiYXN5bmMiLCJfcmVmIiwieWVhcnMiLCJtb250aHMiLCJkYXlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFnZSJdLCJtYXBwaW5ncyI6IkFBQUEsYUNDQUEsUUFBQUMsU0FDQUQsTUFBQUUsT0FBQUMsT0FBQUMsZ0NBQ0FKLE1BQUFFLE9BQUFDLE9BQUFFLHVCQUtBLE1BQUFDLEtBQUFDLFNBQUFDLGNBQUEsYUFDQUMsU0FBQUYsU0FBQUMsY0FBQSxhQUNBRSxXQUFBSCxTQUFBQyxjQUFBLGVBQ0FHLFVBQUFKLFNBQUFDLGNBQUEsY0FDQUksSUFBQUwsU0FBQUMsY0FBQSxrQkFFQUssWUFBQU4sU0FBQUMsY0FBQSxpQkFDQU0sYUFBQVAsU0FBQUMsY0FBQSxrQkFDQU8sV0FBQVIsU0FBQUMsY0FBQSxnQkFLQVEsZUFBQSxXQUNBLE1BQUFDLE9BQUFYLEtBQUFZLGlCQUFBLFNBRUFaLEtBQUFhLFVBQUFDLE9BQUEsV0FDQWQsS0FBQWUsZ0JBQUEsZ0JBQ0FKLE9BQUFLLFNBQUFDLEtBQ0EsTUFBQUMsVUFBQUQsR0FBQUUsUUFBQSx3QkFFQUYsR0FBQUYsZ0JBQUEsZ0JBQ0FFLEdBQUFGLGdCQUFBLG9CQUNBRyxVQUFBTCxVQUFBQyxPQUFBLFdBQ0FJLFVBQUFoQixjQUFBLGdCQUFBWSxRQUFBLEdBRUEsRUFFQU0sZUFBQSxTQUFBQyxRQUFBQyxLQUFBLElBQUFDLGtCQUFBQyxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsS0FBQUEsVUFBQSxHQUNBLE1BQUFHLFNBQUFOLFFBQUFGLFFBQUEsd0JBQ0FTLEVBQUEzQixTQUFBNEIsY0FBQSxLQUVBRCxFQUFBZixVQUFBaUIsSUFBQSxjQUNBRixFQUFBRyxZQUFBVCxJQUNBTSxFQUFBSSxhQUFBLEtBQUEsU0FBQVgsUUFBQVksYUFBQSxTQUNBWixRQUFBVyxhQUFBLGVBQUEsUUFDQVgsUUFBQVcsYUFDQSxtQkFDQSxTQUFBWCxRQUFBWSxhQUFBLFNBRUFOLFNBQUFPLE9BQUFOLEdBQ0FMLGlCQUFBSSxTQUFBZCxVQUFBaUIsSUFBQSxVQUNBLEVBRUFLLFlBQUEsV0FDQSxNQUNBeEIsT0FBQVgsS0FBQVksaUJBQUEsU0FDQSxJQUFBd0IsU0FBQSxFQU9BLE9BTkF6QixPQUFBSyxTQUFBQyxLQUNBQSxHQUFBb0IsTUFBQVosT0FBQSxJQUNBTCxlQUFBSCxHQUxBLDBCQU1BbUIsU0FBQSxFQUNBLElBRUFBLE9BQ0EsRUFFQUUsV0FBQSxTQUFBQyxNQU1BLE9BTEEsSUFBQUMsTUFDQSxJQUFBQSxNQUFBQyxlQUNBLElBQUFELE1BQUFFLFlBQ0EsSUFBQUYsTUFBQUcsV0FFQUosS0FBQSxDQUNBLEVBRUFLLGFBQUEsU0FBQUMsSUFBQUMsTUFBQUMsTUFDQSxNQUFBQyxhQUFBSCxJQUFBSSxTQUFBLEVBQUEsS0FDQUMsZUFBQUosTUFBQUcsU0FBQSxFQUFBLEtBQ0FFLGNBQUFKLEtBQUFFLFNBQUEsRUFBQSxLQUVBVixLQUFBLElBQUFDLEtBQUEsR0FBQVUsa0JBQUFGLGdCQUFBRyxpQkFDQWYsUUFBQTFDLE1BQ0EsR0FBQXlELGlCQUFBRCxrQkFBQUYsZUFDQSxjQUNBLEdBQ0FaLFVBRUEsT0FBQUEsVUFBQUUsV0FBQUMsT0FDQXZDLEtBQUFhLFVBQUFpQixJQUFBLFdBQ0FWLGVBQUFqQixTQUFBLHVCQUFBLElBQ0EsS0FFQWlDLFlBRUFVLE1BQUEsSUFBQUEsTUFBQSxLQUNBMUIsZUFBQWhCLFdBQUEsMkJBR0F5QyxJQUFBLElBQUFBLElBQUEsS0FBQXpCLGVBQUFqQixTQUFBLHdCQUdBMkMsT0FBQSxJQUFBQSxPQUFBLEtBQUFELEtBQUEsSUFBQUEsS0FBQSxLQUNBN0MsS0FBQWEsVUFBQWlCLElBQUEsV0FDQVYsZUFBQWpCLFNBQUEsd0JBQUEsS0FFQSxFQUlBLEVBRUFpRCxRQUFBLFNBQUFQLElBQUFDLE1BQUFDLE1BQ0EsTUFBQU0sSUFBQTNELFFBQ0E0RCxTQUFBNUQsTUFBQSxJQUFBOEMsS0FBQSxHQUFBTSxTQUFBRCxPQUFBRSxTQUNBLE9BQUFyRCxNQUFBNkQsU0FBQUYsSUFBQUcsS0FBQUYsV0FBQUcsRUFDQSxFQUVBQyxlQUFBLFNBQUFyQyxRQUFBc0MsWUFBQUMsZ0JBQ0EsT0FBQSxJQUFBQyxTQUFBQyxVQUNBLElBQUFDLEVBQUEsRUFDQSxNQUFBQyxNQUFBQyxhQUFBLEtBQ0E1QyxRQUFBVSxZQUFBZ0MsRUFDQUEsR0FBQUosY0FDQU8sY0FBQUYsT0FDQUYsV0FFQUMsR0FBQSxHQUNBSCxlQUFBLEdBRUEsRUFFQU8sV0FBQUMsZUFBQUMsTUFBQSxJQUFBQyxNQUFBQSxNQUFBQyxPQUFBQSxPQUFBQyxLQUFBQSxNQUFBSCxLQUNBOUQsWUFBQXdCLFlBQUEsS0FDQXZCLGFBQUF1QixZQUFBLEtBQ0F0QixXQUFBc0IsWUFBQSxXQUNBMkIsZUFBQW5ELFlBQUErRCxNQUFBLFVBQ0FaLGVBQUFsRCxhQUFBK0QsT0FBQSxVQUNBYixlQUFBakQsV0FBQStELEtBQUEsR0FDQSxFQUlBbEUsSUFBQW1FLGlCQUFBLFNBQUFDLElBQ0FBLEVBQUFDLGlCQUNBLE1BQUE5QixJQUFBMUMsU0FBQWtDLE1BQ0FTLE1BQUExQyxXQUFBaUMsTUFDQVUsS0FBQTFDLFVBQUFnQyxNQUVBM0IsaUJBR0EsS0FGQXlCLGVBQUFTLGFBQUFDLElBQUFDLE1BQUFDLE9BRUEsT0FFQSxNQUFBNkIsSUFBQXhCLFFBQUFQLElBQUFDLE1BQUFDLE1BQ0FvQixXQUFBUyxJQUFBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsIi8vIGRheS5qcyBsaWJyYXJ5XHJcbmRheWpzKCkuZm9ybWF0KCk7XHJcbmRheWpzLmV4dGVuZCh3aW5kb3cuZGF5anNfcGx1Z2luX2N1c3RvbVBhcnNlRm9ybWF0KTtcclxuZGF5anMuZXh0ZW5kKHdpbmRvdy5kYXlqc19wbHVnaW5fZHVyYXRpb24pO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gRE9NIEVsZW1lbnRzXHJcblxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFnZS1jYWxjJyk7XHJcbmNvbnN0IGlucHV0RGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tZGF5Jyk7XHJcbmNvbnN0IGlucHV0TW9udGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9ybS1tb250aCcpO1xyXG5jb25zdCBpbnB1dFllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9ybS15ZWFyJyk7XHJcbmNvbnN0IGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZ2UtY2FsY19fYnRuJyk7XHJcblxyXG5jb25zdCBvdXRwdXRZZWFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdXRwdXQteWVhcnMnKTtcclxuY29uc3Qgb3V0cHV0TW9udGhzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI291dHB1dC1tb250aHMnKTtcclxuY29uc3Qgb3V0cHV0RGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdXRwdXQtZGF5cycpO1xyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIEZ1bmN0aW9uc1xyXG5cclxuY29uc3QgY2xlYXJFcnJvck1zZ3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG5cclxuICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKTtcclxuICBmb3JtLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJyk7XHJcbiAgaW5wdXRzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBlbC5jbG9zZXN0KCcuYWdlLWNhbGNfX2lucHV0LWJveCcpO1xyXG5cclxuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJyk7XHJcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcclxuICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkJyk7XHJcbiAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmVycm9yLWRlc2MnKT8ucmVtb3ZlKCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJFcnJvck1zZyA9IGZ1bmN0aW9uIChlbGVtZW50LCBtc2csIGFkZEludmFsaWRDbGFzcyA9IHRydWUpIHtcclxuICBjb25zdCBpbnB1dEJveCA9IGVsZW1lbnQuY2xvc2VzdCgnLmFnZS1jYWxjX19pbnB1dC1ib3gnKTtcclxuICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG5cclxuICBwLmNsYXNzTGlzdC5hZGQoJ2Vycm9yLWRlc2MnKTtcclxuICBwLnRleHRDb250ZW50ID0gbXNnO1xyXG4gIHAuc2V0QXR0cmlidXRlKCdpZCcsIGBlcnJvci0ke2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpfWApO1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWludmFsaWQnLCAndHJ1ZScpO1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxyXG4gICAgJ2FyaWEtZGVzY3JpYmVkYnknLFxyXG4gICAgYGVycm9yLSR7ZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyl9YCxcclxuICApO1xyXG4gIGlucHV0Qm94LmFwcGVuZChwKTtcclxuICBpZiAoYWRkSW52YWxpZENsYXNzKSBpbnB1dEJveC5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0cyA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBlbXB0eUZpZWxkTXNnID0gJ1RoaXMgZmllbGQgaXMgcmVxdWlyZWQnO1xyXG4gIGNvbnN0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcclxuICBsZXQgaXNWYWxpZCA9IHRydWU7XHJcbiAgaW5wdXRzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICBpZiAoZWwudmFsdWUubGVuZ3RoIDwgMSkge1xyXG4gICAgICByZW5kZXJFcnJvck1zZyhlbCwgZW1wdHlGaWVsZE1zZyk7XHJcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gaXNWYWxpZDtcclxufTtcclxuXHJcbmNvbnN0IGlzUGFzdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKFxyXG4gICAgbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLFxyXG4gICAgbmV3IERhdGUoKS5nZXRNb250aCgpLFxyXG4gICAgbmV3IERhdGUoKS5nZXREYXRlKCksXHJcbiAgKTtcclxuICByZXR1cm4gbm93IC0gZGF0ZSA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbn07XHJcblxyXG5jb25zdCB2YWxpZGF0ZURhdGUgPSBmdW5jdGlvbiAoZGF5LCBtb250aCwgeWVhcikge1xyXG4gIGNvbnN0IGRheUZvcm1hdHRlZCA9IGRheS5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IG1vbnRoRm9ybWF0dGVkID0gbW9udGgucGFkU3RhcnQoMiwgJzAnKTtcclxuICBjb25zdCB5ZWFyRm9ybWF0dGVkID0geWVhci5wYWRTdGFydCg0LCAnMCcpO1xyXG5cclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoYCR7bW9udGhGb3JtYXR0ZWR9LyR7ZGF5Rm9ybWF0dGVkfS8ke3llYXJGb3JtYXR0ZWR9YCk7XHJcbiAgY29uc3QgaXNWYWxpZCA9IGRheWpzKFxyXG4gICAgYCR7eWVhckZvcm1hdHRlZH0tJHttb250aEZvcm1hdHRlZH0tJHtkYXlGb3JtYXR0ZWR9YCxcclxuICAgICdZWVlZLU1NLUREJyxcclxuICAgIHRydWUsXHJcbiAgKS5pc1ZhbGlkKCk7XHJcblxyXG4gIGlmIChpc1ZhbGlkICYmICFpc1Bhc3REYXRlKGRhdGUpKSB7XHJcbiAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcclxuICAgIHJlbmRlckVycm9yTXNnKGlucHV0RGF5LCAnTXVzdCBiZSBpbiB0aGUgcGFzdCcsIGZhbHNlKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAvLyBDaGVjayBtb250aCAtIElzIGJldHdlZW4gMS0xMj9cclxuICAgIGlmICgrbW9udGggPCAxIHx8ICttb250aCA+IDEyKVxyXG4gICAgICByZW5kZXJFcnJvck1zZyhpbnB1dE1vbnRoLCAnTXVzdCBiZSBhIHZhbGlkIG1vbnRoJyk7XHJcblxyXG4gICAgLy8gQ2hlY2sgZGF5IC0gSXMgYmV0d2VlbiAxLTMxP1xyXG4gICAgaWYgKCtkYXkgPCAxIHx8ICtkYXkgPiAzMSkgcmVuZGVyRXJyb3JNc2coaW5wdXREYXksICdNdXN0IGJlIGEgdmFsaWQgZGF5Jyk7XHJcblxyXG4gICAgLy8gQ2hlY2sgZGF5IC0gSXMgdmFsaWQgZm9yIGdpdmVuIG1vbnRoP1xyXG4gICAgaWYgKCttb250aCA+PSAxICYmICttb250aCA8PSAxMiAmJiArZGF5ID49IDEgJiYgK2RheSA8PSAzMSkge1xyXG4gICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcclxuICAgICAgcmVuZGVyRXJyb3JNc2coaW5wdXREYXksICdNdXN0IGJlIGEgdmFsaWQgZGF0ZScsIGZhbHNlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuY29uc3QgY2FsY0FnZSA9IGZ1bmN0aW9uIChkYXksIG1vbnRoLCB5ZWFyKSB7XHJcbiAgY29uc3Qgbm93ID0gZGF5anMoKTtcclxuICBjb25zdCBiaXJ0aGRheSA9IGRheWpzKG5ldyBEYXRlKGAke21vbnRofS8ke2RheX0vJHt5ZWFyfWApKTtcclxuICByZXR1cm4gZGF5anMuZHVyYXRpb24obm93LmRpZmYoYmlydGhkYXkpKS4kZDtcclxufTtcclxuXHJcbmNvbnN0IGFuaW1hdGVOdW1iZXJzID0gZnVuY3Rpb24gKGVsZW1lbnQsIGZpbmFsTnVtYmVyLCBhbmltYXRpb25TcGVlZCkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgY29uc3QgYW5pbWUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBpO1xyXG4gICAgICBpZiAoaSA+PSBmaW5hbE51bWJlcikge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoYW5pbWUpO1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfVxyXG4gICAgICBpKys7XHJcbiAgICB9LCBhbmltYXRpb25TcGVlZCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBkaXNwbGF5QWdlID0gYXN5bmMgZnVuY3Rpb24gKHsgeWVhcnMsIG1vbnRocywgZGF5cyB9KSB7XHJcbiAgb3V0cHV0WWVhcnMudGV4dENvbnRlbnQgPSAnLS0nO1xyXG4gIG91dHB1dE1vbnRocy50ZXh0Q29udGVudCA9ICctLSc7XHJcbiAgb3V0cHV0RGF5cy50ZXh0Q29udGVudCA9ICctLSc7XHJcbiAgYXdhaXQgYW5pbWF0ZU51bWJlcnMob3V0cHV0WWVhcnMsIHllYXJzLCAzMCk7XHJcbiAgYXdhaXQgYW5pbWF0ZU51bWJlcnMob3V0cHV0TW9udGhzLCBtb250aHMsIDYwKTtcclxuICBhd2FpdCBhbmltYXRlTnVtYmVycyhvdXRwdXREYXlzLCBkYXlzLCA0MCk7XHJcbn07XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGRheSA9IGlucHV0RGF5LnZhbHVlO1xyXG4gIGNvbnN0IG1vbnRoID0gaW5wdXRNb250aC52YWx1ZTtcclxuICBjb25zdCB5ZWFyID0gaW5wdXRZZWFyLnZhbHVlO1xyXG5cclxuICBjbGVhckVycm9yTXNncygpO1xyXG4gIGNvbnN0IGlzVmFsaWQgPSBjaGVja0lucHV0cygpICYmIHZhbGlkYXRlRGF0ZShkYXksIG1vbnRoLCB5ZWFyKTtcclxuXHJcbiAgaWYgKCFpc1ZhbGlkKSByZXR1cm47XHJcblxyXG4gIGNvbnN0IGFnZSA9IGNhbGNBZ2UoZGF5LCBtb250aCwgeWVhcik7XHJcbiAgZGlzcGxheUFnZShhZ2UpO1xyXG59KTtcclxuIl19
