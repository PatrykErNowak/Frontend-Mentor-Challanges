"use strict";dayjs().format(),dayjs.extend(window.dayjs_plugin_customParseFormat),dayjs.extend(window.dayjs_plugin_duration);const form=document.querySelector(".age-calc"),inputDay=document.querySelector("#form-day"),inputMonth=document.querySelector("#form-month"),inputYear=document.querySelector("#form-year"),btn=document.querySelector(".age-calc__btn"),outputYears=document.querySelector("#output-years"),outputMonths=document.querySelector("#output-months"),outputDays=document.querySelector("#output-days"),clearErrorMsgs=function(){var t=form.querySelectorAll("input");form.classList.remove("invalid"),form.removeAttribute("aria-invalid"),t.forEach(t=>{var e=t.closest(".age-calc__input-box");t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),e.classList.remove("invalid"),e.querySelector(".error-desc")?.remove()})},renderErrorMsg=function(t,e){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],a=t.closest(".age-calc__input-box"),n=document.createElement("p");n.classList.add("error-desc"),n.textContent=e,n.setAttribute("id","error-"+t.getAttribute("id")),t.setAttribute("aria-invalid","true"),t.setAttribute("aria-describedby","error-"+t.getAttribute("id")),a.append(n),r&&a.classList.add("invalid")},checkInputs=function(){var t=form.querySelectorAll("input");let e=!0;return t.forEach(t=>{t.value.length<1&&(renderErrorMsg(t,"This field is required"),e=!1)}),e},isPastDate=function(t){return 0<new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-t},validateDate=function(t,e,r){var a=t.padStart(2,"0"),n=e.padStart(2,"0"),r=r.padStart(4,"0"),u=new Date(n+`/${a}/`+r),r=dayjs(r+`-${n}-`+a,"YYYY-MM-DD",!0).isValid();return r&&!isPastDate(u)?(form.classList.add("invalid"),renderErrorMsg(inputDay,"Must be in the past",!1),!1):!!r||((+e<1||12<+e)&&renderErrorMsg(inputMonth,"Must be a valid month"),(+t<1||31<+t)&&renderErrorMsg(inputDay,"Must be a valid day"),1<=+e&&+e<=12&&1<=+t&&+t<=31&&(form.classList.add("invalid"),renderErrorMsg(inputDay,"Must be a valid date",!1)),!1)},calcAge=function(t,e,r){var a=dayjs(),e=dayjs(new Date(e+`/${t}/`+r));return dayjs.duration(a.diff(e)).$d},animateNumbers=function(a,n,u){return new Promise(t=>{let e=0;const r=setInterval(()=>{(a.textContent=e)>=n&&(clearInterval(r),t()),e++},u)})},displayAge=async function(t){var{years:t,months:e,days:r}=t;outputYears.textContent="--",outputMonths.textContent="--",outputDays.textContent="--",await animateNumbers(outputYears,t,30),await animateNumbers(outputMonths,e,60),await animateNumbers(outputDays,r,40)};btn.addEventListener("click",t=>{t.preventDefault();var t=inputDay.value,e=inputMonth.value,r=inputYear.value,a=(clearErrorMsgs(),checkInputs()&&validateDate(t,e,r));a&&(a=calcAge(t,e,r),displayAge(a))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZGF5anMiLCJmb3JtYXQiLCJleHRlbmQiLCJ3aW5kb3ciLCJkYXlqc19wbHVnaW5fY3VzdG9tUGFyc2VGb3JtYXQiLCJkYXlqc19wbHVnaW5fZHVyYXRpb24iLCJmb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5wdXREYXkiLCJpbnB1dE1vbnRoIiwiaW5wdXRZZWFyIiwiYnRuIiwib3V0cHV0WWVhcnMiLCJvdXRwdXRNb250aHMiLCJvdXRwdXREYXlzIiwiY2xlYXJFcnJvck1zZ3MiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiZm9yRWFjaCIsImVsIiwiY29udGFpbmVyIiwiY2xvc2VzdCIsInJlbmRlckVycm9yTXNnIiwiZWxlbWVudCIsIm1zZyIsImxldCIsImFkZEludmFsaWRDbGFzcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImlucHV0Qm94IiwicCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInNldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImFwcGVuZCIsImNoZWNrSW5wdXRzIiwiaXNWYWxpZCIsInZhbHVlIiwiaXNQYXN0RGF0ZSIsImRhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJ2YWxpZGF0ZURhdGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJkYXlGb3JtYXR0ZWQiLCJwYWRTdGFydCIsIm1vbnRoRm9ybWF0dGVkIiwieWVhckZvcm1hdHRlZCIsImNhbGNBZ2UiLCJub3ciLCJiaXJ0aGRheSIsImR1cmF0aW9uIiwiZGlmZiIsIiRkIiwiYW5pbWF0ZU51bWJlcnMiLCJmaW5hbE51bWJlciIsImFuaW1hdGlvblNwZWVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpIiwiYW5pbWUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkaXNwbGF5QWdlIiwiYXN5bmMiLCJfcmVmIiwieWVhcnMiLCJtb250aHMiLCJkYXlzIiwiYXdhaXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWdlIl0sIm1hcHBpbmdzIjoiYUFDQUEsTUFBQSxFQUFBQyxPQUFBLEVBQ0FELE1BQUFFLE9BQUFDLE9BQUFDLDhCQUFBLEVBQ0FKLE1BQUFFLE9BQUFDLE9BQUFFLHFCQUFBLEVBS0EsTUFBQUMsS0FBQUMsU0FBQUMsY0FBQSxXQUFBLEVBQ0FDLFNBQUFGLFNBQUFDLGNBQUEsV0FBQSxFQUNBRSxXQUFBSCxTQUFBQyxjQUFBLGFBQUEsRUFDQUcsVUFBQUosU0FBQUMsY0FBQSxZQUFBLEVBQ0FJLElBQUFMLFNBQUFDLGNBQUEsZ0JBQUEsRUFFQUssWUFBQU4sU0FBQUMsY0FBQSxlQUFBLEVBQ0FNLGFBQUFQLFNBQUFDLGNBQUEsZ0JBQUEsRUFDQU8sV0FBQVIsU0FBQUMsY0FBQSxjQUFBLEVBS0FRLGVBQUEsV0FDQSxJQUFBQyxFQUFBWCxLQUFBWSxpQkFBQSxPQUFBLEVBRUFaLEtBQUFhLFVBQUFDLE9BQUEsU0FBQSxFQUNBZCxLQUFBZSxnQkFBQSxjQUFBLEVBQ0FKLEVBQUFLLFFBQUFDLElBQ0EsSUFBQUMsRUFBQUQsRUFBQUUsUUFBQSxzQkFBQSxFQUVBRixFQUFBRixnQkFBQSxjQUFBLEVBQ0FFLEVBQUFGLGdCQUFBLGtCQUFBLEVBQ0FHLEVBQUFMLFVBQUFDLE9BQUEsU0FBQSxFQUNBSSxFQUFBaEIsY0FBQSxhQUFBLEdBQUFZLE9BQUEsQ0FDQSxDQUFBLENBQ0EsRUFFQU0sZUFBQSxTQUFBQyxFQUFBQyxHQUFBQyxJQUFBQyxFQUFBQyxFQUFBLEVBQUFBLFVBQUFDLFFBQUFDLEtBQUFBLElBQUFGLFVBQUEsS0FBQUEsVUFBQSxHQUNBRyxFQUFBUCxFQUFBRixRQUFBLHNCQUFBLEVBQ0FVLEVBQUE1QixTQUFBNkIsY0FBQSxHQUFBLEVBRUFELEVBQUFoQixVQUFBa0IsSUFBQSxZQUFBLEVBQ0FGLEVBQUFH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V0FBQWtDLE1BQ0FVLEVBQUEzQyxVQUFBaUMsTUFHQUQsR0FEQTNCLGVBQUEsRUFDQTBCLFlBQUEsR0FBQVMsYUFBQUMsRUFBQUMsRUFBQUMsQ0FBQSxHQUVBWCxJQUVBeUMsRUFBQXpCLFFBQUFQLEVBQUFDLEVBQUFDLENBQUEsRUFDQW9CLFdBQUFVLENBQUEsRUFDQSxDQUFBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkYXkuanMgbGlicmFyeVxyXG5kYXlqcygpLmZvcm1hdCgpO1xyXG5kYXlqcy5leHRlbmQod2luZG93LmRheWpzX3BsdWdpbl9jdXN0b21QYXJzZUZvcm1hdCk7XHJcbmRheWpzLmV4dGVuZCh3aW5kb3cuZGF5anNfcGx1Z2luX2R1cmF0aW9uKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIERPTSBFbGVtZW50c1xyXG5cclxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZ2UtY2FsYycpO1xyXG5jb25zdCBpbnB1dERheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtLWRheScpO1xyXG5jb25zdCBpbnB1dE1vbnRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tbW9udGgnKTtcclxuY29uc3QgaW5wdXRZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0teWVhcicpO1xyXG5jb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWdlLWNhbGNfX2J0bicpO1xyXG5cclxuY29uc3Qgb3V0cHV0WWVhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3V0cHV0LXllYXJzJyk7XHJcbmNvbnN0IG91dHB1dE1vbnRocyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdXRwdXQtbW9udGhzJyk7XHJcbmNvbnN0IG91dHB1dERheXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3V0cHV0LWRheXMnKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBGdW5jdGlvbnNcclxuXHJcbmNvbnN0IGNsZWFyRXJyb3JNc2dzID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcclxuXHJcbiAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkJyk7XHJcbiAgZm9ybS5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xyXG4gIGlucHV0cy5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gZWwuY2xvc2VzdCgnLmFnZS1jYWxjX19pbnB1dC1ib3gnKTtcclxuXHJcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcpO1xyXG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XHJcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaW52YWxpZCcpO1xyXG4gICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1kZXNjJyk/LnJlbW92ZSgpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyRXJyb3JNc2cgPSBmdW5jdGlvbiAoZWxlbWVudCwgbXNnLCBhZGRJbnZhbGlkQ2xhc3MgPSB0cnVlKSB7XHJcbiAgY29uc3QgaW5wdXRCb3ggPSBlbGVtZW50LmNsb3Nlc3QoJy5hZ2UtY2FsY19faW5wdXQtYm94Jyk7XHJcbiAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuXHJcbiAgcC5jbGFzc0xpc3QuYWRkKCdlcnJvci1kZXNjJyk7XHJcbiAgcC50ZXh0Q29udGVudCA9IG1zZztcclxuICBwLnNldEF0dHJpYnV0ZSgnaWQnLCBgZXJyb3ItJHtlbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKX1gKTtcclxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgJ3RydWUnKTtcclxuICBlbGVtZW50LnNldEF0dHJpYnV0ZShcclxuICAgICdhcmlhLWRlc2NyaWJlZGJ5JyxcclxuICAgIGBlcnJvci0ke2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpfWAsXHJcbiAgKTtcclxuICBpbnB1dEJveC5hcHBlbmQocCk7XHJcbiAgaWYgKGFkZEludmFsaWRDbGFzcykgaW5wdXRCb3guY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tJbnB1dHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgZW1wdHlGaWVsZE1zZyA9ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJztcclxuICBjb25zdCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0Jyk7XHJcbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xyXG4gIGlucHV0cy5mb3JFYWNoKChlbCkgPT4ge1xyXG4gICAgaWYgKGVsLnZhbHVlLmxlbmd0aCA8IDEpIHtcclxuICAgICAgcmVuZGVyRXJyb3JNc2coZWwsIGVtcHR5RmllbGRNc2cpO1xyXG4gICAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGlzVmFsaWQ7XHJcbn07XHJcblxyXG5jb25zdCBpc1Bhc3REYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZShcclxuICAgIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxcclxuICAgIG5ldyBEYXRlKCkuZ2V0TW9udGgoKSxcclxuICAgIG5ldyBEYXRlKCkuZ2V0RGF0ZSgpLFxyXG4gICk7XHJcbiAgcmV0dXJuIG5vdyAtIGRhdGUgPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVEYXRlID0gZnVuY3Rpb24gKGRheSwgbW9udGgsIHllYXIpIHtcclxuICBjb25zdCBkYXlGb3JtYXR0ZWQgPSBkYXkucGFkU3RhcnQoMiwgJzAnKTtcclxuICBjb25zdCBtb250aEZvcm1hdHRlZCA9IG1vbnRoLnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgY29uc3QgeWVhckZvcm1hdHRlZCA9IHllYXIucGFkU3RhcnQoNCwgJzAnKTtcclxuXHJcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGAke21vbnRoRm9ybWF0dGVkfS8ke2RheUZvcm1hdHRlZH0vJHt5ZWFyRm9ybWF0dGVkfWApO1xyXG4gIGNvbnN0IGlzVmFsaWQgPSBkYXlqcyhcclxuICAgIGAke3llYXJGb3JtYXR0ZWR9LSR7bW9udGhGb3JtYXR0ZWR9LSR7ZGF5Rm9ybWF0dGVkfWAsXHJcbiAgICAnWVlZWS1NTS1ERCcsXHJcbiAgICB0cnVlLFxyXG4gICkuaXNWYWxpZCgpO1xyXG5cclxuICBpZiAoaXNWYWxpZCAmJiAhaXNQYXN0RGF0ZShkYXRlKSkge1xyXG4gICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XHJcbiAgICByZW5kZXJFcnJvck1zZyhpbnB1dERheSwgJ011c3QgYmUgaW4gdGhlIHBhc3QnLCBmYWxzZSk7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGlmICghaXNWYWxpZCkge1xyXG4gICAgLy8gQ2hlY2sgbW9udGggLSBJcyBiZXR3ZWVuIDEtMTI/XHJcbiAgICBpZiAoK21vbnRoIDwgMSB8fCArbW9udGggPiAxMilcclxuICAgICAgcmVuZGVyRXJyb3JNc2coaW5wdXRNb250aCwgJ011c3QgYmUgYSB2YWxpZCBtb250aCcpO1xyXG5cclxuICAgIC8vIENoZWNrIGRheSAtIElzIGJldHdlZW4gMS0zMT9cclxuICAgIGlmICgrZGF5IDwgMSB8fCArZGF5ID4gMzEpIHJlbmRlckVycm9yTXNnKGlucHV0RGF5LCAnTXVzdCBiZSBhIHZhbGlkIGRheScpO1xyXG5cclxuICAgIC8vIENoZWNrIGRheSAtIElzIHZhbGlkIGZvciBnaXZlbiBtb250aD9cclxuICAgIGlmICgrbW9udGggPj0gMSAmJiArbW9udGggPD0gMTIgJiYgK2RheSA+PSAxICYmICtkYXkgPD0gMzEpIHtcclxuICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XHJcbiAgICAgIHJlbmRlckVycm9yTXNnKGlucHV0RGF5LCAnTXVzdCBiZSBhIHZhbGlkIGRhdGUnLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmNvbnN0IGNhbGNBZ2UgPSBmdW5jdGlvbiAoZGF5LCBtb250aCwgeWVhcikge1xyXG4gIGNvbnN0IG5vdyA9IGRheWpzKCk7XHJcbiAgY29uc3QgYmlydGhkYXkgPSBkYXlqcyhuZXcgRGF0ZShgJHttb250aH0vJHtkYXl9LyR7eWVhcn1gKSk7XHJcbiAgcmV0dXJuIGRheWpzLmR1cmF0aW9uKG5vdy5kaWZmKGJpcnRoZGF5KSkuJGQ7XHJcbn07XHJcblxyXG5jb25zdCBhbmltYXRlTnVtYmVycyA9IGZ1bmN0aW9uIChlbGVtZW50LCBmaW5hbE51bWJlciwgYW5pbWF0aW9uU3BlZWQpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgIGxldCBpID0gMDtcclxuICAgIGNvbnN0IGFuaW1lID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaTtcclxuICAgICAgaWYgKGkgPj0gZmluYWxOdW1iZXIpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKGFuaW1lKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgICAgaSsrO1xyXG4gICAgfSwgYW5pbWF0aW9uU3BlZWQpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZGlzcGxheUFnZSA9IGFzeW5jIGZ1bmN0aW9uICh7IHllYXJzLCBtb250aHMsIGRheXMgfSkge1xyXG4gIG91dHB1dFllYXJzLnRleHRDb250ZW50ID0gJy0tJztcclxuICBvdXRwdXRNb250aHMudGV4dENvbnRlbnQgPSAnLS0nO1xyXG4gIG91dHB1dERheXMudGV4dENvbnRlbnQgPSAnLS0nO1xyXG4gIGF3YWl0IGFuaW1hdGVOdW1iZXJzKG91dHB1dFllYXJzLCB5ZWFycywgMzApO1xyXG4gIGF3YWl0IGFuaW1hdGVOdW1iZXJzKG91dHB1dE1vbnRocywgbW9udGhzLCA2MCk7XHJcbiAgYXdhaXQgYW5pbWF0ZU51bWJlcnMob3V0cHV0RGF5cywgZGF5cywgNDApO1xyXG59O1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5idG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBkYXkgPSBpbnB1dERheS52YWx1ZTtcclxuICBjb25zdCBtb250aCA9IGlucHV0TW9udGgudmFsdWU7XHJcbiAgY29uc3QgeWVhciA9IGlucHV0WWVhci52YWx1ZTtcclxuXHJcbiAgY2xlYXJFcnJvck1zZ3MoKTtcclxuICBjb25zdCBpc1ZhbGlkID0gY2hlY2tJbnB1dHMoKSAmJiB2YWxpZGF0ZURhdGUoZGF5LCBtb250aCwgeWVhcik7XHJcblxyXG4gIGlmICghaXNWYWxpZCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBhZ2UgPSBjYWxjQWdlKGRheSwgbW9udGgsIHllYXIpO1xyXG4gIGRpc3BsYXlBZ2UoYWdlKTtcclxufSk7XHJcbiJdfQ==
