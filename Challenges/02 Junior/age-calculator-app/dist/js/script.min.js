"use strict";dayjs().format(),dayjs.extend(window.dayjs_plugin_customParseFormat),dayjs.extend(window.dayjs_plugin_duration);const form=document.querySelector(".age-calc"),inputDay=document.querySelector("#form-day"),inputMonth=document.querySelector("#form-month"),inputYear=document.querySelector("#form-year"),btn=document.querySelector(".age-calc__btn"),outputYears=document.querySelector("#output-years"),outputMonths=document.querySelector("#output-months"),outputDays=document.querySelector("#output-days"),clearErrorMsgs=function(){var t=form.querySelectorAll("input");form.classList.remove("invalid"),t.forEach(t=>{t=t.closest(".age-calc__input-box");t.classList.remove("invalid"),t.querySelector(".error-desc")?.remove()})},renderErrorMsg=function(t,e){var a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],t=t.closest(".age-calc__input-box"),r=document.createElement("p");r.classList.add("error-desc"),r.textContent=e,t.append(r),a&&t.classList.add("invalid")},checkInputs=function(){var t=form.querySelectorAll("input");let e=!0;return t.forEach(t=>{t.value.length<1&&(renderErrorMsg(t,"This field is required"),e=!1)}),e},isPastDate=function(t){return 0<new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate())-t},validateDate=function(t,e,a){var r=t.padStart(2,"0"),n=e.padStart(2,"0"),a=a.padStart(4,"0"),o=new Date(n+`/${r}/`+a),a=dayjs(a+`-${n}-`+r,"YYYY-MM-DD",!0).isValid();return a&&!isPastDate(o)?(form.classList.add("invalid"),renderErrorMsg(inputDay,"Must be in the past",!1),!1):!!a||((+e<1||12<+e)&&renderErrorMsg(inputMonth,"Must be a valid month"),(+t<1||31<+t)&&renderErrorMsg(inputDay,"Must be a valid day"),1<=+e&&+e<=12&&1<=+t&&+t<=31&&(form.classList.add("invalid"),renderErrorMsg(inputDay,"Must be a valid date",!1)),!1)},calcAge=function(t,e,a){var r=dayjs(),e=dayjs(new Date(e+`/${t}/`+a));return dayjs.duration(r.diff(e)).$d},animateNumbers=function(r,n,o){return new Promise(t=>{let e=0;const a=setInterval(()=>{(r.textContent=e)>=n&&(clearInterval(a),t()),e++},o)})},displayAge=async function(t){var{years:t,months:e,days:a}=t;outputYears.textContent="--",outputMonths.textContent="--",outputDays.textContent="--",await animateNumbers(outputYears,t,30),await animateNumbers(outputMonths,e,60),await animateNumbers(outputDays,a,40)};btn.addEventListener("click",t=>{t.preventDefault();var t=inputDay.value,e=inputMonth.value,a=inputYear.value,r=(clearErrorMsgs(),checkInputs()&&validateDate(t,e,a));r&&(r=calcAge(t,e,a),displayAge(r))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZGF5anMiLCJmb3JtYXQiLCJleHRlbmQiLCJ3aW5kb3ciLCJkYXlqc19wbHVnaW5fY3VzdG9tUGFyc2VGb3JtYXQiLCJkYXlqc19wbHVnaW5fZHVyYXRpb24iLCJmb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5wdXREYXkiLCJpbnB1dE1vbnRoIiwiaW5wdXRZZWFyIiwiYnRuIiwib3V0cHV0WWVhcnMiLCJvdXRwdXRNb250aHMiLCJvdXRwdXREYXlzIiwiY2xlYXJFcnJvck1zZ3MiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiZm9yRWFjaCIsImVsIiwiY29udGFpbmVyIiwiY2xvc2VzdCIsInJlbmRlckVycm9yTXNnIiwiZWxlbWVudCIsIm1zZyIsImxldCIsImFkZEludmFsaWRDbGFzcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImlucHV0Qm94IiwicCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImNoZWNrSW5wdXRzIiwiaXNWYWxpZCIsInZhbHVlIiwiaXNQYXN0RGF0ZSIsImRhdGUiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJ2YWxpZGF0ZURhdGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJkYXlGb3JtYXR0ZWQiLCJwYWRTdGFydCIsIm1vbnRoRm9ybWF0dGVkIiwieWVhckZvcm1hdHRlZCIsImNhbGNBZ2UiLCJub3ciLCJiaXJ0aGRheSIsImR1cmF0aW9uIiwiZGlmZiIsIiRkIiwiYW5pbWF0ZU51bWJlcnMiLCJmaW5hbE51bWJlciIsImFuaW1hdGlvblNwZWVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpIiwiYW5pbWUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJkaXNwbGF5QWdlIiwiYXN5bmMiLCJfcmVmIiwieWVhcnMiLCJtb250aHMiLCJkYXlzIiwiYXdhaXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYWdlIl0sIm1hcHBpbmdzIjoiYUFDQUEsTUFBQSxFQUFBQyxPQUFBLEVBQ0FELE1BQUFFLE9BQUFDLE9BQUFDLDhCQUFBLEVBQ0FKLE1BQUFFLE9BQUFDLE9BQUFFLHFCQUFBLEVBS0EsTUFBQUMsS0FBQUMsU0FBQUMsY0FBQSxXQUFBLEVBQ0FDLFNBQUFGLFNBQUFDLGNBQUEsV0FBQSxFQUNBRSxXQUFBSCxTQUFBQyxjQUFBLGFBQUEsRUFDQUcsVUFBQUosU0FBQUMsY0FBQSxZQUFBLEVBQ0FJLElBQUFMLFNBQUFDLGNBQUEsZ0JBQUEsRUFFQUssWUFBQU4sU0FBQUMsY0FBQSxlQUFBLEVBQ0FNLGFBQUFQLFNBQUFDLGNBQUEsZ0JBQUEsRUFDQU8sV0FBQVIsU0FBQUMsY0FBQSxjQUFBLEVBS0FRLGVBQUEsV0FDQSxJQUFBQyxFQUFBWCxLQUFBWSxpQkFBQSxPQUFBLEVBRUFaLEtBQUFhLFVBQUFDLE9BQUEsU0FBQSxFQUNBSCxFQUFBSSxRQUFBQyxJQUNBQyxFQUFBRCxFQUFBRSxRQUFBLHNCQUFBLEVBQ0FELEVBQUFKLFVBQUFDLE9BQUEsU0FBQSxFQUNBRyxFQUFBZixjQUFBLGFBQUEsR0FBQVksT0FBQSxDQUNBLENBQUEsQ0FDQSxFQUVBSyxlQUFBLFNBQUFDLEVBQUFDLEdBQUFDLElBQUFDLEVBQUFDLEVBQUEsRUFBQUEsVUFBQUMsUUFBQUMsS0FBQUEsSUFBQUYsVUFBQSxLQUFBQSxVQUFBLEdBQ0FHLEVBQUFQLEVBQUFGLFFBQUEsc0JBQUEsRUFDQVUsRUFBQTNCLFNBQUE0QixjQUFBLEdBQUEsRUFFQUQsRUFBQWYsVUFBQWlCLElBQUEsWUFBQSxFQUNBRixFQUFBRyxZQUFBVixFQUNBTSxFQUFBSyxPQUFBSixDQUFBLEVBQ0FMLEdBQUFJLEVBQUFkLFVBQUFpQixJQUFBLFNBQUEsQ0FDQSxFQUVBRyxZQUFBLFdBRUEsSUFBQXRCLEVBQUFYLEtBQUFZLGlCQUFBLE9BQUEsRUFDQVUsSUFBQVksRUFBQSxDQUFBLEVBT0EsT0FOQXZCLEVBQUFJLFFBQUFDLElBQ0FBLEVBQUFtQixNQUFBVixPQUFBLElBQ0FOLGVBQUFILEVBTEEsd0JBS0EsRUFDQWtCLEVBQUEsQ0FBQSxFQUVBLENBQUEsRUFDQUEsQ0FDQSxFQUVBRSxXQUFBLFNBQUFDLEdBTUEsT0FBQSxFQUxBLElBQUFDLE1BQ0EsSUFBQUEsTUFBQUMsWUFBQSxHQUNBLElBQUFELE1BQUFFLFNBQUEsR0FDQSxJQUFBRixNQUFBRyxRQUFBLENBQ0EsRUFDQUosQ0FDQSxFQUVBSyxhQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUgsRUFBQUksU0FBQSxFQUFBLEdBQUEsRUFDQUMsRUFBQUosRUFBQUcsU0FBQSxFQUFBLEdBQUEsRUFDQUUsRUFBQUosRUFBQUUsU0FBQSxFQUFBLEdBQUEsRUFFQVYsRUFBQSxJQUFBQyxLQUFBVSxNQUFBRixLQUFBRyxDQUFBLEVBQ0FmLEVBQUF4QyxNQUNBdUQsTUFBQUQsS0FBQUYsRUFDQSxhQUNBLENBQUEsQ0FDQSxFQUFBWixRQUFBLEVBRUEsT0FBQUEsR0FBQSxDQUFBRSxXQUFBQyxDQUFBLEdBQ0FyQyxLQUFBYSxVQUFBaUIsSUFBQSxTQUFBLEVBQ0FYLGVBQUFoQixTQUFBLHNCQUFBLENBQUEsQ0FBQSxFQUNBLENBQUEsR0FFQStCLENBQUFBLENBQUFBLEtBRUEsQ0FBQVUsRUFBQSxHQUFBLEdBQUEsQ0FBQUEsSUFDQXpCLGVBQUFmLFdBQUEsdUJBQUEsR0FHQSxDQUFBdUMsRUFBQSxHQUFBLEdBQUEsQ0FBQUEsSUFBQXhCLGVBQUFoQixTQUFBLHFCQUFBLEVBR0EsR0FBQSxDQUFBeUMsR0FBQSxDQUFBQSxHQUFBLElBQUEsR0FBQSxDQUFBRCxHQUFBLENBQUFBLEdBQUEsS0FDQTNDLEtBQUFhLFVBQUFpQixJQUFBLFNBQUEsRUFDQVgsZUFBQWhCLFNBQUEsdUJBQUEsQ0FBQSxDQUFBLEdBRUEsQ0FBQSxFQUlBLEVBRUErQyxRQUFBLFNBQUFQLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQU0sRUFBQXpELE1BQUEsRUFDQTBELEVBQUExRCxNQUFBLElBQUE0QyxLQUFBTSxNQUFBRCxLQUFBRSxDQUFBLENBQUEsRUFDQSxPQUFBbkQsTUFBQTJELFNBQUFGLEVBQUFHLEtBQUFGLENBQUEsQ0FBQSxFQUFBRyxFQUNBLEVBRUFDLGVBQUEsU0FBQXBDLEVBQUFxQyxFQUFBQyxHQUNBLE9BQUEsSUFBQUMsUUFBQUMsSUFDQXRDLElBQUF1QyxFQUFBLEVBQ0EsTUFBQUMsRUFBQUMsWUFBQSxNQUNBM0MsRUFBQVcsWUFBQThCLElBQ0FKLElBQ0FPLGNBQUFGLENBQUEsRUFDQUYsRUFBQSxHQUVBQyxDQUFBLEVBQ0EsRUFBQUgsQ0FBQSxDQUNBLENBQUEsQ0FDQSxFQUVBTyxXQUFBQyxlQUFBQyxHQUFBN0MsR0FBQSxDQUFBOEMsTUFBQUEsRUFBQUMsT0FBQUEsRUFBQUMsS0FBQUEsQ0FBQSxFQUFBSCxFQUNBNUQsWUFBQXdCLFlBQUEsS0FDQXZCLGFBQUF1QixZQUFBLEtBQ0F0QixXQUFBc0IsWUFBQSxLQUNBd0MsTUFBQWYsZUFBQWpELFlBQUE2RCxFQUFBLEVBQUEsRUFDQUcsTUFBQWYsZUFBQWhELGFBQUE2RCxFQUFBLEVBQUEsRUFDQUUsTUFBQWYsZUFBQS9DLFdBQUE2RCxFQUFBLEVBQUEsQ0FDQSxFQUlBaEUsSUFBQWtFLGlCQUFBLFFBQUFDLElBQ0FBLEVBQUFDLGVBQUEsRUFDQSxJQUFBL0IsRUFBQXhDLFNBQUFnQyxNQUNBUyxFQUFBeEMsV0FBQStCLE1BQ0FVLEVBQUF4QyxVQUFBOEIsTUFHQUQsR0FEQXhCLGVBQUEsRUFDQXVCLFlBQUEsR0FBQVMsYUFBQUMsRUFBQUMsRUFBQUMsQ0FBQSxHQUVBWCxJQUVBeUMsRUFBQXpCLFFBQUFQLEVBQUFDLEVBQUFDLENBQUEsRUFDQW9CLFdBQUFVLENBQUEsRUFDQSxDQUFBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBkYXkuanMgbGlicmFyeVxyXG5kYXlqcygpLmZvcm1hdCgpO1xyXG5kYXlqcy5leHRlbmQod2luZG93LmRheWpzX3BsdWdpbl9jdXN0b21QYXJzZUZvcm1hdCk7XHJcbmRheWpzLmV4dGVuZCh3aW5kb3cuZGF5anNfcGx1Z2luX2R1cmF0aW9uKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIERPTSBFbGVtZW50c1xyXG5cclxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZ2UtY2FsYycpO1xyXG5jb25zdCBpbnB1dERheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtLWRheScpO1xyXG5jb25zdCBpbnB1dE1vbnRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tbW9udGgnKTtcclxuY29uc3QgaW5wdXRZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0teWVhcicpO1xyXG5jb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWdlLWNhbGNfX2J0bicpO1xyXG5cclxuY29uc3Qgb3V0cHV0WWVhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3V0cHV0LXllYXJzJyk7XHJcbmNvbnN0IG91dHB1dE1vbnRocyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvdXRwdXQtbW9udGhzJyk7XHJcbmNvbnN0IG91dHB1dERheXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3V0cHV0LWRheXMnKTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBGdW5jdGlvbnNcclxuXHJcbmNvbnN0IGNsZWFyRXJyb3JNc2dzID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGlucHV0cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKTtcclxuXHJcbiAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkJyk7XHJcbiAgaW5wdXRzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBlbC5jbG9zZXN0KCcuYWdlLWNhbGNfX2lucHV0LWJveCcpO1xyXG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKTtcclxuICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItZGVzYycpPy5yZW1vdmUoKTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlckVycm9yTXNnID0gZnVuY3Rpb24gKGVsZW1lbnQsIG1zZywgYWRkSW52YWxpZENsYXNzID0gdHJ1ZSkge1xyXG4gIGNvbnN0IGlucHV0Qm94ID0gZWxlbWVudC5jbG9zZXN0KCcuYWdlLWNhbGNfX2lucHV0LWJveCcpO1xyXG4gIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcblxyXG4gIHAuY2xhc3NMaXN0LmFkZCgnZXJyb3ItZGVzYycpO1xyXG4gIHAudGV4dENvbnRlbnQgPSBtc2c7XHJcbiAgaW5wdXRCb3guYXBwZW5kKHApO1xyXG4gIGlmIChhZGRJbnZhbGlkQ2xhc3MpIGlucHV0Qm94LmNsYXNzTGlzdC5hZGQoJ2ludmFsaWQnKTtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSW5wdXRzID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGVtcHR5RmllbGRNc2cgPSAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZCc7XHJcbiAgY29uc3QgaW5wdXRzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xyXG4gIGxldCBpc1ZhbGlkID0gdHJ1ZTtcclxuICBpbnB1dHMuZm9yRWFjaCgoZWwpID0+IHtcclxuICAgIGlmIChlbC52YWx1ZS5sZW5ndGggPCAxKSB7XHJcbiAgICAgIHJlbmRlckVycm9yTXNnKGVsLCBlbXB0eUZpZWxkTXNnKTtcclxuICAgICAgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBpc1ZhbGlkO1xyXG59O1xyXG5cclxuY29uc3QgaXNQYXN0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoXHJcbiAgICBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksXHJcbiAgICBuZXcgRGF0ZSgpLmdldE1vbnRoKCksXHJcbiAgICBuZXcgRGF0ZSgpLmdldERhdGUoKSxcclxuICApO1xyXG4gIHJldHVybiBub3cgLSBkYXRlID4gMCA/IHRydWUgOiBmYWxzZTtcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlRGF0ZSA9IGZ1bmN0aW9uIChkYXksIG1vbnRoLCB5ZWFyKSB7XHJcbiAgY29uc3QgZGF5Rm9ybWF0dGVkID0gZGF5LnBhZFN0YXJ0KDIsICcwJyk7XHJcbiAgY29uc3QgbW9udGhGb3JtYXR0ZWQgPSBtb250aC5wYWRTdGFydCgyLCAnMCcpO1xyXG4gIGNvbnN0IHllYXJGb3JtYXR0ZWQgPSB5ZWFyLnBhZFN0YXJ0KDQsICcwJyk7XHJcblxyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShgJHttb250aEZvcm1hdHRlZH0vJHtkYXlGb3JtYXR0ZWR9LyR7eWVhckZvcm1hdHRlZH1gKTtcclxuICBjb25zdCBpc1ZhbGlkID0gZGF5anMoXHJcbiAgICBgJHt5ZWFyRm9ybWF0dGVkfS0ke21vbnRoRm9ybWF0dGVkfS0ke2RheUZvcm1hdHRlZH1gLFxyXG4gICAgJ1lZWVktTU0tREQnLFxyXG4gICAgdHJ1ZSxcclxuICApLmlzVmFsaWQoKTtcclxuXHJcbiAgaWYgKGlzVmFsaWQgJiYgIWlzUGFzdERhdGUoZGF0ZSkpIHtcclxuICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xyXG4gICAgcmVuZGVyRXJyb3JNc2coaW5wdXREYXksICdNdXN0IGJlIGluIHRoZSBwYXN0JywgZmFsc2UpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBpZiAoIWlzVmFsaWQpIHtcclxuICAgIC8vIENoZWNrIG1vbnRoIC0gSXMgYmV0d2VlbiAxLTEyP1xyXG4gICAgaWYgKCttb250aCA8IDEgfHwgK21vbnRoID4gMTIpXHJcbiAgICAgIHJlbmRlckVycm9yTXNnKGlucHV0TW9udGgsICdNdXN0IGJlIGEgdmFsaWQgbW9udGgnKTtcclxuXHJcbiAgICAvLyBDaGVjayBkYXkgLSBJcyBiZXR3ZWVuIDEtMzE/XHJcbiAgICBpZiAoK2RheSA8IDEgfHwgK2RheSA+IDMxKSByZW5kZXJFcnJvck1zZyhpbnB1dERheSwgJ011c3QgYmUgYSB2YWxpZCBkYXknKTtcclxuXHJcbiAgICAvLyBDaGVjayBkYXkgLSBJcyB2YWxpZCBmb3IgZ2l2ZW4gbW9udGg/XHJcbiAgICBpZiAoK21vbnRoID49IDEgJiYgK21vbnRoIDw9IDEyICYmICtkYXkgPj0gMSAmJiArZGF5IDw9IDMxKSB7XHJcbiAgICAgIGZvcm0uY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xyXG4gICAgICByZW5kZXJFcnJvck1zZyhpbnB1dERheSwgJ011c3QgYmUgYSB2YWxpZCBkYXRlJywgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBjYWxjQWdlID0gZnVuY3Rpb24gKGRheSwgbW9udGgsIHllYXIpIHtcclxuICBjb25zdCBub3cgPSBkYXlqcygpO1xyXG4gIGNvbnN0IGJpcnRoZGF5ID0gZGF5anMobmV3IERhdGUoYCR7bW9udGh9LyR7ZGF5fS8ke3llYXJ9YCkpO1xyXG4gIHJldHVybiBkYXlqcy5kdXJhdGlvbihub3cuZGlmZihiaXJ0aGRheSkpLiRkO1xyXG59O1xyXG5cclxuY29uc3QgYW5pbWF0ZU51bWJlcnMgPSBmdW5jdGlvbiAoZWxlbWVudCwgZmluYWxOdW1iZXIsIGFuaW1hdGlvblNwZWVkKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBjb25zdCBhbmltZSA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGk7XHJcbiAgICAgIGlmIChpID49IGZpbmFsTnVtYmVyKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhbmltZSk7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGkrKztcclxuICAgIH0sIGFuaW1hdGlvblNwZWVkKTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGRpc3BsYXlBZ2UgPSBhc3luYyBmdW5jdGlvbiAoeyB5ZWFycywgbW9udGhzLCBkYXlzIH0pIHtcclxuICBvdXRwdXRZZWFycy50ZXh0Q29udGVudCA9ICctLSc7XHJcbiAgb3V0cHV0TW9udGhzLnRleHRDb250ZW50ID0gJy0tJztcclxuICBvdXRwdXREYXlzLnRleHRDb250ZW50ID0gJy0tJztcclxuICBhd2FpdCBhbmltYXRlTnVtYmVycyhvdXRwdXRZZWFycywgeWVhcnMsIDMwKTtcclxuICBhd2FpdCBhbmltYXRlTnVtYmVycyhvdXRwdXRNb250aHMsIG1vbnRocywgNjApO1xyXG4gIGF3YWl0IGFuaW1hdGVOdW1iZXJzKG91dHB1dERheXMsIGRheXMsIDQwKTtcclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgZGF5ID0gaW5wdXREYXkudmFsdWU7XHJcbiAgY29uc3QgbW9udGggPSBpbnB1dE1vbnRoLnZhbHVlO1xyXG4gIGNvbnN0IHllYXIgPSBpbnB1dFllYXIudmFsdWU7XHJcblxyXG4gIGNsZWFyRXJyb3JNc2dzKCk7XHJcbiAgY29uc3QgaXNWYWxpZCA9IGNoZWNrSW5wdXRzKCkgJiYgdmFsaWRhdGVEYXRlKGRheSwgbW9udGgsIHllYXIpO1xyXG5cclxuICBpZiAoIWlzVmFsaWQpIHJldHVybjtcclxuXHJcbiAgY29uc3QgYWdlID0gY2FsY0FnZShkYXksIG1vbnRoLCB5ZWFyKTtcclxuICBkaXNwbGF5QWdlKGFnZSk7XHJcbn0pO1xyXG4iXX0=
